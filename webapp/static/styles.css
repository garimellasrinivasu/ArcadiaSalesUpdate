*{box-sizing:border-box}
body{font-family:Inter,system-ui,Arial,sans-serif;margin:0;background:#f7f7fb;color:#1a1a1a}
a{color:#0a66c2;text-decoration:none}
.nav{display:flex;justify-content:space-between;align-items:center;padding:12px 20px;background:#111827;color:#fff}
.nav .links a{color:#fff;margin-left:12px}
.sidebar{position:fixed;top:0;left:0;height:100vh;width:220px;background:#111827;color:#fff;padding:16px 12px}
.sidebar .brand{font-weight:700;margin-bottom:16px}
.sidebar .menu{display:flex;flex-direction:column;gap:8px}
.sidebar .menu a{color:#fff;background:#1f2937;padding:10px 12px;border-radius:8px}
.sidebar .menu a:hover{background:#374151}
.container{padding:20px;max-width:1100px;margin:0 auto}
.container.with-sidebar{margin-left:240px}
.card{background:#fff;border-radius:12px;padding:16px;box-shadow:0 6px 16px rgba(0,0,0,.08);margin-bottom:16px}
.form label{display:flex;flex-direction:column;font-size:.9rem;margin:8px}
.form label.inline{flex-direction:row;align-items:center;gap:6px;white-space:nowrap}
.form input,.form select,.form textarea{padding:10px;border:1px solid #d1d5db;border-radius:10px;margin-top:6px;background:#fff}
.form .form-row{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
.form.inline{display:flex;align-items:center;flex-wrap:wrap;gap:12px}
.form.filters .row{display:flex;gap:12px;align-items:flex-end;flex-wrap:wrap}
.grid-two{display:grid;grid-template-columns:2fr 1fr;gap:16px}
.btn{background:#2563eb;color:#fff;border:none;padding:10px 14px;border-radius:10px;cursor:pointer}
.btn.secondary{background:#6b7280}
.btn.small{padding:6px 10px;font-size:.85rem}
.btn.danger{background:#dc2626}
.table{width:100%;border-collapse:collapse;background:#fff;border-radius:12px;overflow:hidden}
.table th,.table td{padding:12px;border-bottom:1px solid #eee;text-align:left}
.table th{white-space:normal}
.table td{white-space:nowrap}
.table thead{background:#f3f4f6}
.table-scroll{width:100%;overflow-x:auto;overflow-y:auto;max-height:70vh}
/* Sticky header for better usability */
.table thead th{position:sticky;top:0;z-index:2;box-shadow:0 2px 0 rgba(0,0,0,0.03)}
/* Zebra rows and hover highlights */
.table tbody tr:nth-child(odd){background:#fafbff}
.table tbody tr:hover{background:#eef2ff}
/* Align numeric columns */
.num{text-align:right;font-variant-numeric:tabular-nums}
.flash-area{margin-bottom:12px}
.flash{padding:10px;border-radius:10px;margin-bottom:8px}
.flash.error{background:#fee2e2;color:#991b1b}
.flash.success{background:#dcfce7;color:#166534}
.errors{background:#fee2e2;color:#991b1b;padding:10px;border-radius:10px}
.help{font-size:.8rem;color:#6b7280;margin-left:8px}
.form label.required .label-text::after{content:' *'; color:#dc2626; font-weight:700}
.calculated{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin:12px 8px}
.calculated div{background:#f3f4f6;padding:12px;border-radius:10px;display:flex;justify-content:space-between;align-items:center}
.info ul{margin:0 0 0 16px}
.spacer{flex:1}
@media (max-width:900px){.grid-two{grid-template-columns:1fr}.form .form-row{grid-template-columns:1fr}}

/* Modal */
.modal-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,.4);align-items:center;justify-content:center;z-index:9999}
.modal-overlay.open{display:flex}
.modal{background:#fff;border-radius:12px;min-width:320px;max-width:90vw;padding:16px;box-shadow:0 10px 30px rgba(0,0,0,.2)}
.modal-header{font-weight:700;margin-bottom:8px}
.modal-actions{display:flex;justify-content:flex-end;margin-top:12px}

@media print{
  @page { size: landscape; margin: 5mm 5mm; counter-increment: page; }
  body{-webkit-print-color-adjust:exact; print-color-adjust: exact}
  .sidebar,.nav,.flash-area,.actions{display:none!important}
  .container{margin:0;max-width:none}
  .container.with-sidebar{margin-left:0!important}
  .table-scroll{overflow:visible!important}
  .table{page-break-inside:auto;width:100%!important; table-layout:fixed}
  .table th,.table td{white-space:normal; overflow-wrap:anywhere; word-break:break-word}
  /* Hide Actions column (first column) on print for all tables */
  .table th:first-child, .table td:first-child{display:none!important}
  .table thead{display:table-header-group}
  .table tfoot{display:table-footer-group}
  .table tr{page-break-inside:avoid;page-break-after:auto}
  .print-footer{position:fixed;bottom:0;right:20px;font-size:.85rem}
  /* Some engines start counter(page) at 0; try to normalize */
  body{counter-reset: page 1}
  .print-footer:after{content:'Page ' counter(page)}
}

/* Chips for Type of Sale */
.chip{display:inline-block;padding:4px 8px;border-radius:999px;font-size:.8rem;font-weight:600}
.chip-otp{background:#e0f2fe;color:#075985}
.chip-r{background:#ede9fe;color:#5b21b6}
